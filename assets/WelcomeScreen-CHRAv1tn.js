import{r as s,j as e,B as g,V as y,T as C,a as S,I as j,b as v,u as I,c as F,F as k,g as w,v as B,Q as E,P as a}from"./index-Sq6i0_Tr.js";const R=({setUsernameCallback:p,setFlagCallback:n,onSubmit:h})=>{const[l,m]=s.useState(""),[i,c]=s.useState(null),[o,x]=s.useState(()=>localStorage.getItem("selectedFlag")||"ph"),[f,r]=s.useState(!1);s.useEffect(()=>{n(o)},[o,n]);const b=t=>{x(t),r(!1)},u=()=>{let t=l.trim()||w();const d=B(t);if(d){c(d);return}p(t),n(o),localStorage.setItem("username",t),localStorage.setItem("selectedFlag",o),E.success(`Welcome, ${t}!`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,theme:"colored",icon:"👋🏼",style:{background:"#f24040"}}),h()};return e.jsxs(g,{px:2,display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"center",bgcolor:"#101010",color:"white",children:[e.jsx("img",{loading:"lazy",src:y,alt:"VibeChess Logo",style:{width:"100px",marginBottom:"10px"}}),e.jsxs(C,{marginBottom:4,textAlign:"center",variant:"h3",color:"inherit",children:[e.jsx("span",{style:{color:"#f24040"},children:"Vibe"}),"Chess"]}),e.jsxs(g,{display:"flex",flexDirection:"column",width:{xs:"90%",sm:"400px",md:"30%",lg:"20%"},alignItems:"center",gap:2,children:[e.jsx(S,{onKeyDown:t=>t.key==="Enter"&&u(),value:l,onChange:t=>{c(null),m(t.target.value)},fullWidth:!0,error:!!i,autoComplete:"off",label:i||"What should we call you?",inputProps:{maxLength:14},variant:"outlined",sx:{height:"65px","& .MuiOutlinedInput-input":{padding:"18px 14px"}},InputProps:{endAdornment:e.jsx(j,{position:"end",children:e.jsx(v,{onClick:()=>r(!0),sx:{borderRadius:"100%","&:hover":{backgroundColor:"rgba(255, 255, 255, 0.1)"}},edge:"end",children:e.jsx(I,{countryCode:o,height:"40"})})})}}),e.jsx(F,{onClick:u,variant:"contained",fullWidth:!0,sx:{backgroundColor:"#f24040",color:"white",py:1.5,fontSize:"1.1rem","&:hover":{backgroundColor:"#d63636"}},children:"Enter VibeChess"})]}),e.jsx(k,{open:f,onClose:()=>r(!1),onSelect:b})]})};R.propTypes={setUsernameCallback:a.func.isRequired,setFlagCallback:a.func.isRequired,onSubmit:a.func.isRequired};export{R as default};
